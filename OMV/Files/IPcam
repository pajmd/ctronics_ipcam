services:
  ipcam-stream-capture:
    # Allow to rebuild the image in case I modified the app
    # docker compose up --build -d to build and run as deamon
    build:
      context: ../ipcam-dockerfile
      dockerfile: Dockerfile
    image: ipcam-stream-app
    container_name: ipcam-stream-app-container
    restart: unless-stopped
    environment:
      - USER_NAME=${USER_NAME}
      - USER_PWD=${USER_PWD}
    volumes:
      - CHANGE_TO_COMPOSE_DATA_PATH/ipcam_repo:/usr/src/app/repo
      - ./log:/var/log
